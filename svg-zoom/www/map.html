<html>

	<head>
	</head>

	<body>
<script type="text/javascript">
		function move(x,y){
			var gravity=document.getElementById('viewport');
			var stateNew=gravity.getCTM().inverse();
			setCTM(gravity, stateNew.inverse().translate(x,y));
		}
		function zoom(x,y,zoomSize){
			var svgImage=document.getElementById('svg_image');
			var k=root.createSVGMatrix().translate(x,y).scale(zoomSize).translate(-x, -y);
			var gravity=document.getElementById('viewport');
			setCTM(gravity, gravity.getCTM().multiply(k));
		}
		
		var svgns="http://www.w3.org/2000/svg";

		function draw_circle(x,y,r,id){
			var shape=document.createElementNS(svgns, "circle");
			shape.setAttributeNS(null, "cx", 25);
			shape.setAttributeNS(null, "cy", 25);
			shape.setAttributeNS(null, "r", 25);
			shape.setAttributeNS(null, "fill", "green");
			shape.setAttribute("id",id);
			document.getElementById("viewport").appendChild(shape);
		}

		function remove_element(id){
			var element=document.getElementById(id);	
			if(element!=null){
				document.getElementById('viewport').removeChild(element)		
			}
		}

		// document.getElementById('some id').onclick=function(){alert('calata');		}
	
</script>

<input type="button" value="move(50,50)" onclick="move(50,50)" />
<input type="button" value="move(-50,-50)" onclick="move(-50,-50)" />

<input type="button" value="zoom(100,100, 1.2)" onclick="zoom(100,100, 1.2)" />
<input type="button" value="zoom(100,100, 0.8)" onclick="zoom(100,100, 0.8)" />

<input type="button" value="draw_circle(20,20,20,'circle_1')" onclick="draw_circle(20,20,20,'circle_1')" />
<input type="button" value="remove_element('circle_1')" onclick="remove_element('circle_1')" />


<br />
<svg
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="744.09448819"
   height="1052.3622047"
   id="svg_image"
   version="1.1"
   inkscape:version="0.48.4 r9939"
   sodipodi:docname="New document 1">
  <defs
     id="defs4" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.4"
     inkscape:cx="364.46075"
     inkscape:cy="840.09851"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="false"
     inkscape:window-width="1366"
     inkscape:window-height="744"
     inkscape:window-x="0"
     inkscape:window-y="24"
     inkscape:window-maximized="1" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Layer 1"
     inkscape:groupmode="layer"
     id="viewport">
    <rect
       style="fill:none;stroke:#803300;stroke-width:6;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
       id="rect2985"
       width="151.42857"
       height="76.428574"
       x="180.71428"
       y="98.076469" />
    <rect
       style="fill:none;stroke:#666666;stroke-width:6;stroke-miterlimit:4;stroke-opacity:1;stroke-dasharray:none"
       id="rect2987"
       width="170.71428"
       height="72.85714"
       x="263.57144"
       y="71.647896" />
  </g>
</svg>

	<script src="SVGPan.js"> </script>
	</body>
</html>
